<?php

namespace Database\Factories\Catalog;

use App\Models\Catalog\Product;
use Illuminate\Database\Eloquent\Factories\Factory;

class ProductFactory extends Factory
{
    protected $model = Product::class;

    public function definition(): array
    {
        $brandProducts = [
            'toyota' => [
                'Фильтр масляный Toyota 04152-YZZA6',
                'Тормозные колодки Toyota Camry',
                'Амортизатор задний Toyota RAV4',
                'Ремень ГРМ Toyota Corolla',
                'Фара передняя Toyota Land Cruiser',
                'Радиатор охлаждения Toyota Hilux',
                'Аккумулятор Toyota Prius',
                'Датчик кислорода Toyota Yaris',
                'Генератор Toyota Avensis',
                'Свечи зажигания Toyota Auris',
            ],
            'ford' => [
                'Фильтр воздушный Ford Focus',
                'Сцепление в сборе Ford Mondeo',
                'Амортизатор передний Ford Kuga',
                'Свечи зажигания Ford Fiesta',
                'Фара задняя Ford Explorer',
                'Радиатор печки Ford Transit',
                'Топливный насос Ford Fusion',
                'Генератор Ford Focus 2',
                'Ремень ГРМ Ford Ranger',
                'Фильтр салонный Ford Edge',
            ],
            'bmw' => [
                'Свечи зажигания BMW OEM 12120037663',
                'Фильтр воздушный BMW X5',
                'Амортизатор передний BMW 5-series',
                'Фильтр салонный BMW 3-series',
                'Тормозные колодки BMW X6',
                'Фара передняя BMW 7-series',
                'Ремень навесного оборудования BMW M3',
                'Аккумулятор BMW i3',
                'Радиатор охлаждения BMW X3',
                'Датчик ABS BMW 1-series',
            ],
            'audi' => [
                'Фильтр масляный Audi A4',
                'Тормозные диски Audi Q7',
                'Амортизатор передний Audi A6',
                'Свечи зажигания Audi TT',
                'Фильтр салонный Audi A3',
                'Радиатор охлаждения Audi Q5',
                'Фара передняя Audi A8',
                'Генератор Audi A4',
                'Сцепление Audi A5',
                'Аккумулятор Audi Q3',
            ],
            'mercedes' => [
                'Фильтр масляный Mercedes W204',
                'Амортизатор задний Mercedes GLE',
                'Свечи зажигания Mercedes C-class',
                'Тормозные колодки Mercedes E-class',
                'Фара передняя Mercedes S-class',
                'Ремень ГРМ Mercedes CLA',
                'Аккумулятор Mercedes GLA',
                'Генератор Mercedes Sprinter',
                'Фильтр салонный Mercedes GLC',
                'Радиатор охлаждения Mercedes Vito',
            ],
            'lada' => [
                'Амортизатор передний Lada Vesta',
                'Фильтр салонный Lada Granta',
                'Сцепление в сборе Lada Kalina',
                'Тормозные колодки Lada Priora',
                'Фара задняя Lada Niva',
                'Радиатор охлаждения Lada Largus',
                'Аккумулятор Lada XRAY',
                'Генератор Lada Samara',
                'Фильтр масляный Lada Vesta',
                'Ремень ГРМ Lada Granta',
            ],
            'kia' => [
                'Фильтр воздушный Kia Rio',
                'Свечи зажигания Kia Sportage',
                'Амортизатор задний Kia Ceed',
                'Фильтр масляный Kia Sorento',
                'Фара передняя Kia Cerato',
                'Радиатор охлаждения Kia Carnival',
                'Генератор Kia Soul',
                'Топливный насос Kia Optima',
                'Сцепление Kia Picanto',
                'Фильтр салонный Kia Stinger',
            ],
            'hyundai' => [
                'Фильтр масляный Hyundai Solaris',
                'Амортизатор задний Hyundai Tucson',
                'Свечи зажигания Hyundai Elantra',
                'Тормозные колодки Hyundai Santa Fe',
                'Фара передняя Hyundai Sonata',
                'Топливный насос Hyundai i30',
                'Генератор Hyundai Creta',
                'Радиатор охлаждения Hyundai Accent',
                'Сцепление Hyundai Getz',
                'Фильтр салонный Hyundai Kona',
            ],
            'nissan' => [
                'Фильтр воздушный Nissan Qashqai',
                'Амортизатор передний Nissan X-Trail',
                'Свечи зажигания Nissan Almera',
                'Фильтр масляный Nissan Note',
                'Радиатор охлаждения Nissan Juke',
                'Фара задняя Nissan Murano',
                'Генератор Nissan Teana',
                'Сцепление Nissan Micra',
                'Аккумулятор Nissan Leaf',
                'Фильтр салонный Nissan Patrol',
            ],
            'volkswagen' => [
                'Фильтр масляный VW Passat',
                'Амортизатор задний VW Tiguan',
                'Свечи зажигания VW Polo',
                'Тормозные диски VW Golf',
                'Фильтр салонный VW Touareg',
                'Фара передняя VW Jetta',
                'Генератор VW Caddy',
                'Аккумулятор VW Passat B8',
                'Ремень ГРМ VW Transporter',
                'Радиатор охлаждения VW Passat CC',
            ],
        ];

        // === Универсальные категории изображений ===
        $imagesMap = [
            'фильтр'      => 'filter.png',
            'амортизатор' => 'shock.png',
            'свеч'        => 'spark.png',
            'генератор'   => 'alternator.png',
            'аккумулятор' => 'battery.png',
            'ремень'      => 'belt.png',
            'сцепление'   => 'clutch.png',
            'тормоз'      => 'brake.png',
            'радиатор'    => 'radiator.png',
            'фара'        => 'headlight.png',
            'насос'       => 'pump.png',
            'датчик'      => 'sensor.png',
        ];

        $descriptions = [
            'Оригинальное качество, рекомендовано производителем. Эти запчасти прошли строгую проверку на заводе и соответствуют всем международным стандартам безопасности. Использование оригинальных деталей гарантирует долгий срок службы автомобиля и стабильную работу всех узлов.',

            'Высокий ресурс службы — до 50 000 км. Даже при интенсивной эксплуатации в городских условиях или на трассе деталь сохраняет прочность и надежность. Подходит для владельцев, которые ценят долговечность и минимальные затраты на обслуживание.',

            'Совместим с популярными моделями автомобилей и не требует дополнительных доработок при установке. Установка занимает минимальное время, что делает эту деталь особенно удобной для автосервисов. Проверено временем и тысячами довольных водителей.',

            'Простой монтаж, гарантия надёжности и полное соответствие техническим характеристикам производителя. Даже при самостоятельной установке вы сможете быстро заменить деталь. Это оптимальный выбор для тех, кто хочет совместить удобство и уверенность в результате.',

            'Оптимальное соотношение цены и качества делает данный товар лидером среди аналогов. Вы получаете долговечную деталь по доступной цене, не переплачивая за бренд. Отличное решение для тех, кто следит за своим бюджетом, но не готов жертвовать безопасностью.',

            'Повышенная износостойкость и долговечность позволяют использовать деталь даже в экстремальных климатических условиях. Она устойчива к перепадам температур, коррозии и высоким нагрузкам. Подходит как для города, так и для бездорожья.',

            'Сертифицировано по международным стандартам качества и прошло лабораторные испытания. Использование таких деталей снижает риск поломок и неожиданных затрат на ремонт. Это гарантированный способ поддерживать автомобиль в идеальном состоянии.',

            'Обеспечивает стабильную работу двигателя в любых условиях эксплуатации. Даже при длительных поездках и больших нагрузках деталь сохраняет свои характеристики. Рекомендовано для водителей, которые ценят уверенность и надёжность в дороге.',

            'Рассчитан на интенсивную эксплуатацию, подходит для автомобилей с высоким пробегом. Устанавливая такую деталь, вы снижаете вероятность повторного ремонта в ближайшее время. Это особенно важно для коммерческого транспорта и такси.',

            'Подходит для автомобилей с большим пробегом и восстанавливает их эксплуатационные качества. Даже старые машины с такой деталью получают вторую жизнь. Отличный выбор для тех, кто хочет продлить срок службы своего авто без лишних затрат.',

            'Улучшенные характеристики безопасности и комфорта делают использование автомобиля более приятным. Снижается уровень вибраций, улучшается управляемость и плавность хода. Подходит для требовательных водителей, которые ценят комфорт в каждой поездке.',

            'Продукция прошла строгий контроль качества на всех этапах производства. Каждая деталь тестировалась на прочность, долговечность и устойчивость к внешним воздействиям. Это гарантирует высокую надёжность при эксплуатации.',

            'Гарантия от производителя — 12 месяцев, что подтверждает уверенность в качестве продукции. В случае брака вы всегда можете обратиться за заменой. Это решение снижает риски и делает покупку максимально безопасной.',

            'Обеспечивает экономичный расход топлива при длительном использовании. Благодаря качественным материалам и точной подгонке деталь снижает нагрузку на двигатель. Это выгодное решение для тех, кто заботится о расходах и экологии.',

            'Надёжный выбор для ежедневной эксплуатации автомобиля в любых условиях. Запчасть выдерживает частые поездки, пробки и перепады температур. Идеально подойдёт для тех, кто использует машину ежедневно и не хочет переживать за её надёжность.',

            'Подходит для оригинальной замены без доработок, сохраняя заводские характеристики автомобиля. Установка производится быстро и без дополнительных инструментов. Это делает деталь доступной как для профессионалов, так и для автолюбителей.',

            'Деталь изготовлена из высококачественных материалов, которые устойчивы к износу и коррозии. Она сохраняет свои свойства даже при эксплуатации в сложных климатических условиях. Это гарантирует долгую службу и уверенность на дороге.',

            'Прошла многоступенчатую проверку качества и сертифицирована ведущими мировыми организациями. Каждая партия тестируется на соответствие стандартам безопасности. Вы получаете продукт, которому доверяют профессиональные сервисы.',

            'Установка не требует специальных навыков или дорогого оборудования. Всё, что вам понадобится, — это стандартный набор инструментов. Подходит для тех, кто предпочитает самостоятельно обслуживать свой автомобиль.',

            'Запчасть создана с учётом требований современных автомобилей и их систем безопасности. Она обеспечивает точную работу механизма и снижает риск поломок. Благодаря этому повышается комфорт и надёжность вождения.',

            'Обладает высокой устойчивостью к механическим нагрузкам и температурным колебаниям. Даже при агрессивной езде или работе в тяжёлых условиях сохраняет свои характеристики. Это делает её надёжным решением для любых дорог.',

            'Позволяет снизить уровень вибраций и шумов во время эксплуатации автомобиля. Благодаря этому улучшается комфорт поездки и уменьшается нагрузка на другие узлы. Вы получаете более тихую и плавную работу машины.',

            'Подходит для большинства популярных моделей автомобилей без дополнительных доработок. Это экономит время и средства при установке. Вы сможете быстро вернуть свой автомобиль в рабочее состояние.',

            'Отличается долговечностью и рассчитана на пробег свыше 100 000 километров. Это особенно важно для тех, кто много путешествует или использует авто для работы. С такой деталью вы будете уверены в надёжности своего автомобиля.',

            'Разработана с применением инновационных технологий, что делает её более эффективной по сравнению с аналогами. Использование современных материалов повышает износостойкость. Это решение, которое оправдывает каждый вложенный рубль.',

            'Идеально сбалансирована по весу и форме, что обеспечивает стабильную работу системы. Даже при высоких нагрузках сохраняет точность и эффективность. Это выбор тех, кто ценит качество и точность.',

            'Обеспечивает дополнительную защиту двигателя и других узлов автомобиля. Уменьшает риск перегрева и преждевременного износа. Это особенно важно для тех, кто эксплуатирует машину в жарком климате.',

            'Изготовлена в соответствии с оригинальными чертежами и спецификациями производителя. Это гарантирует полную совместимость и долгий срок службы. Благодаря этому деталь работает так же надёжно, как и заводская.',

            'Снижает расход топлива за счёт оптимизации работы двигателя. При регулярном использовании помогает экономить деньги и беречь природу. Отличное решение для тех, кто заботится о бюджете и экологии.',

            'Обеспечивает плавное движение и стабильную работу даже на плохих дорогах. Снижается риск повреждения других деталей подвески. Это гарантирует комфортное вождение в любых условиях.',

            'Устойчиво переносит эксплуатацию в условиях повышенной влажности и перепадов температур. Металлические элементы защищены от коррозии. Это увеличивает срок службы и снижает затраты на ремонт.',

            'Применяется в официальных сервисных центрах и рекомендована производителями автомобилей. Высокое качество подтверждено опытом эксплуатации в разных странах. Это деталь, которой доверяют профессионалы.',

            'Помогает сохранить оптимальные характеристики автомобиля даже при большом пробеге. Использование таких деталей продлевает жизнь машины. Отличный выбор для владельцев подержанных авто.',

            'Гарантирует безопасность при движении на высоких скоростях. Тщательно протестирована на устойчивость к экстремальным нагрузкам. С такой деталью вы можете быть уверены в надёжности своего автомобиля.',

            'Создана для современных условий эксплуатации, включая пробки, плохие дороги и интенсивное использование. Отличается стабильной работой даже в режиме повышенной нагрузки. Это практичное и надёжное решение для ежедневного использования.',

            'Использование этой детали позволяет значительно снизить вероятность аварийных ситуаций. Она обеспечивает корректную работу систем автомобиля и повышает уровень безопасности. Отличный выбор для ответственных водителей.',

        ];

        // === Генерация продукта ===
        $brand = $this->faker->randomElement(array_keys($brandProducts));
        $name  = $this->faker->randomElement($brandProducts[$brand]);

        // === Подбор изображения по ключевым словам ===
        $imageFile = 'default.png';
        foreach ($imagesMap as $keyword => $file) {
            if (str_contains(mb_strtolower($name), $keyword)) {
                $imageFile = $file;
                break;
            }
        }

        return [
            'brand_id'            => $brand,
            'name'                => $name,
            'product_description' => $this->faker->randomElement($descriptions),
            'price'               => $this->faker->randomFloat(2, 500, 20000),
            'image_url'           => '/storage/products/' . $imageFile,
        ];
    }
}
